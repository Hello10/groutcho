!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("groutcho"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","groutcho","prop-types"],t):t((e=e||self).groutchoReact={},e.react,e.groutcho,e.PropTypes)}(this,function(e,t,r,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var u=t.createContext();function c(e){var n=e.input,u=e.routes,c=e.redirects,i=e.web,a=e.onChange;function s(e){d(e),i&&window.history.pushState({},"",e)}var f=t.useState(function(){if(i){var e=window.location;return""+e.pathname+e.search}return"/"}()),p=f[0],d=f[1],h=t.useMemo(function(){var e=new r.Router({routes:u,redirects:c});return e.onChange(function(e){e!==p&&(s(e),a&&a(p))},n),e});t.useEffect(function(){if(!i)return function(){};function e(){d(p)}return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}},[]);var l=h.match(o(o({},n),{},{url:p}));return l.redirect&&s(l.url),{match:l,router:h,url:p}}function i(e){var r=e.children,n=c({input:e.input,routes:e.routes,redirects:e.redirects,web:e.web,onChange:e.onChange});return t.createElement(u.Provider,{value:n.router},r({match:n.match}))}i.propTypes={input:n.object,routes:n.object,redirects:n.object,web:n.bool,children:n.func,onChange:n.func},e.RouterContainer=i,e.RouterContext=u,e.useGo=function(){var e=t.useContext(u);return function(t){return e.go(t)}},e.useRouter=c});
//# sourceMappingURL=index.umd.js.map
